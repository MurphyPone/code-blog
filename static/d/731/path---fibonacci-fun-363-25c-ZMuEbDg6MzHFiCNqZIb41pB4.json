{"data":{"markdownRemark":{"html":"<style type='text/css'>\n  a {\n    border-bottom: 1px solid hsl(240, 100%, 70%);\n    color: black;\n    text-decoration: none;\n    -webkit-transition: background-color .25s; /* Safari */\n    transition: background-color .25s;\n  }\n  a:hover {\n    background-color: hsla(189, 100%, 50%, 40%);\n  }\n</style>\n<h1>What / Why?</h1>\n<p>In this article we're going to take a look at a fascinating relationship between fibonacci numbers and unit conversion while also learning some python tools along the way.</p>\n<h1>Setup</h1>\n<p>For this project we're going to use <a href=\"https://www.python.org/downloads/\">Python 3.7</a> as well as a powerful graphing library developed by Facebook called <a href=\"https://github.com/facebookresearch/visdom\">visdom</a>.</p>\n<p>The general workflow for this setup is to initialize a terminal window in you working directory and execute the command <code class=\"language-text\">visdom</code>.  On success, you should see something like :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ visdom\nChecking for scripts.\nIt&#39;s Alive!\nINFO:root:Application Started\nYou can navigate to http://localhost:8097</code></pre></div>\n<p>We can leave this running in the background and occasionally check in on it if we're getting visdom related errors.  Open another tab in your shell,  navigate back to the working directory of the project, and open your preferred editor!   </p>\n<h1>Code!</h1>\n<p>Let's identify our goal: we want to generate fibonacci numbers and graph how sequential numbers in the sequence compare to mile --> kilometer conversions.  To do this, we first need to generate fibonacci numbers as well as create some methods to allow us to convert between our two units:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Imports</span>\n    <span class=\"token comment\"># none, for now</span>\n\n<span class=\"token comment\"># Constants</span>\nkm_per_mi <span class=\"token operator\">=</span> <span class=\"token number\">1.60934</span>\nmi_per_km <span class=\"token operator\">=</span> <span class=\"token number\">0.621371</span>\n\n<span class=\"token comment\"># Fibonacci number generator</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">fib</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> n <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Invalid input\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">elif</span> n <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">elif</span> n <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> fib<span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> fib<span class=\"token punctuation\">(</span>n<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Convert km to mi</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">km_to_mi</span><span class=\"token punctuation\">(</span>km<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> km <span class=\"token operator\">*</span> mi_per_km\n\n<span class=\"token comment\"># Convert mi to km</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">mi_to_km</span><span class=\"token punctuation\">(</span>mi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> mi <span class=\"token operator\">*</span> km_per_mi\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>fib<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>We can test our method by calling <code class=\"language-text\">print(fib(5))</code> at the bottom of our main.py which should output <code class=\"language-text\">5</code> which is correct according to our definition.</p>\n<p>Now, in order to examine the relationship between fibonacci numbers and miles-kilometers, let's set up a temporary example:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">mi <span class=\"token operator\">=</span> fib<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\nkm <span class=\"token operator\">=</span> mi_to_km<span class=\"token punctuation\">(</span>fib<span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>mi<span class=\"token punctuation\">,</span> km<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Executing our program now we should see <code class=\"language-text\">5 8.0467</code>, and validating our results with a quick Google, we can see that Fibonacci may have been on one.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4b832ca9371a1f6d8e220112e3e85265/a5044/img1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 900px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 35.79710144927537%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8klEQVQoz22RWY6EMAxEuf9d5jL8zSAhftihWROykFRja9yC0UR6YOykKDuJ9x77vsMYC4qdcxf+F3f7dg+stQghIMb4IYSIxBiDoigwTROO42CUUozWmqGYBESMcsuysOB9kWhCD1l0aNs2jmnzeZ6Q+jAMKMuSoX0i8PedOGeh9o0FyMk4jlyg9sXtuq7I8xxpmiLLMs5RXRw+BJU2qLoZ2njYq32aF41BDtEoaCSUE+fSyb+C8XgBxRfs+I3+taCpazRNg7Ztmb7v0XUdx/VVq6qK26cf3cU+gsEfCPMPgpnhz/AYvmDYuXvUyP39hoU3NOcgqK/qgu4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"img1\"\n        title=\"\"\n        src=\"/static/4b832ca9371a1f6d8e220112e3e85265/fea0e/img1.png\"\n        srcset=\"/static/4b832ca9371a1f6d8e220112e3e85265/064a4/img1.png 225w,\n/static/4b832ca9371a1f6d8e220112e3e85265/44727/img1.png 450w,\n/static/4b832ca9371a1f6d8e220112e3e85265/fea0e/img1.png 900w,\n/static/4b832ca9371a1f6d8e220112e3e85265/8013a/img1.png 1350w,\n/static/4b832ca9371a1f6d8e220112e3e85265/a5044/img1.png 1380w\"\n        sizes=\"(max-width: 900px) 100vw, 900px\"\n      />\n  </span>\n  </a></p>\n<p>(This is because the a decimal approximation of the Golden Ratio is <em>very</em> close to our <code class=\"language-text\">km_per_mi</code> constant: 1.60934)</p>\n<p>So now let's write a method to calculate the error between the <em>actual</em> conversion using the constant provided by Google and the Fibonacci sequence.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># calculate the %error between the  fib #</span>\n<span class=\"token comment\"># and the actual conversion number using fib(n), fib(n+1)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">loss</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    mi <span class=\"token operator\">=</span> fib<span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span>\n    fib_km <span class=\"token operator\">=</span> fib<span class=\"token punctuation\">(</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n    actual_km <span class=\"token operator\">=</span> mi_to_km<span class=\"token punctuation\">(</span>mi<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token builtin\">abs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>actual_km <span class=\"token operator\">-</span> fib_km<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> actual_km<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100</span></code></pre></div>","frontmatter":{"title":"Fibonacci Numbers as Conversion Heuristics","date":"October 11, 2019","subtitle":"Python, Visdom","duration":"30 minute read"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/fibonacci-fun/"}}